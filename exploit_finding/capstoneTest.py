import os

cap = "/Applications/PASCO Capstone.app/Contents/MacOS/PASCO Capstone"
from time import sleep
import subprocess
import signal
directory = "capMutes/"
core_dump_directory = "/cores/"
wait_time = 4
buffer = 2
def checkfordump():
    for file in os.listdir(core_dump_directory):
        # if "PASCO" in file:
        return file 

for name in os.listdir(directory):
    process = subprocess.Popen([cap, f"{directory}/{name}"])
    sleep(wait_time)
    os.kill(process.pid,signal.SIGTERM)
    subprocess.run([killall ])
    sleep(buffer)
    dump=checkfordump()
    if dump is not None:
        os.rename(f"{cord_dump_directory}", f"./{dump}")
        print("dump",end="")
    print(name)